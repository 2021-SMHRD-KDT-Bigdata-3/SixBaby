<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.smhrd.mapper.Mapper">

	<!-- 1. 회원가입,수정,탈퇴 -->
	<insert id="memberInsert" parameterType="com.smhrd.mapper.MemberVO">
		insert into member
		values(#{id},#{pw},#{nickname},#{name},#{gender},#{birth},#{tell})
	</insert>
	<insert id="memberInsert" parameterType="com.smhrd.mapper.BabyVO">
	    insert into baby(id, baby_name, baby_birth, baby_gender)
	    values(#{id},#{baby_name},#{baby_birth},#{baby_gender})
   </insert>
	<update id="memberUpdate" parameterType="com.smhrd.mapper.MemberVO">
		update member set
		pw=#{pw}, nickname=#{nickname}, tell=#{tell} where id=#{id}
	</update>
	<delete id="memberDelete" parameterType="com.smhrd.mapper.MemberVO">
		delete from member where id=#{id} and pw=#{pw}
	</delete>

	<!-- 2. 로그인 -->
	<select id="login" parameterType="com.smhrd.mapper.MemberVO">
		select * from member
		where id=#{id} and pw=#{pw}
	</select>
	
	<!-- 3. 커뮤니티(전체, 열람, 작성, 수정, 삭제) -->
	<select id="boardList" resultType="com.smhrd.mapper.BoardsVO">
    	select * from boards
   </select> 
   <select id="boardContent" parameterType="int" 
                             resultType="com.smhrd.mapper.BoardsVO">
     select * from boards where board_no=#{board_no}   
   </select>
   <insert id="boardInsert" parameterType="com.smhrd.mapper.BoardsVO">
	    insert into boards(category, title, nickname, picture, contents)
	    values(#{category},#{title},#{nickname},#{picture},#{contents})
   </insert>
   <update id="boardUpdate" parameterType="com.smhrd.mapper.BoardsVO">
     update boards set title=#{title}, picture=#{picture}, contents=#{contents}
     where board_no=#{board_no}  
   </update>
   <delete id="boardDelete" parameterType="int">
     delete from boards where board_no=#{board_no}
   </delete>
   
   <!-- 4. 아기정보(삽입, ) -->
   <insert id="babyInsert" parameterType="com.smhrd.mapper.BabyVO">
	    insert into baby(id, baby_name, baby_birth, baby_gender)
	    values(#{id},#{baby_name},#{baby_birth},#{baby_gender})
   </insert>
   
   <!-- 5. 댓글(보기,작성,수정,삭제) -->
   <select id="commentList" resultType="com.smhrd.mapper.CommentsVO">
    	select * from comments
    	where board_no=#{board_no}
   </select>
   <insert id="commentInsert" parameterType="com.smhrd.mapper.CommentsVO">
	    insert into comments(category, nickname, contents)
	    values(#{category},#{nickname},#{contents})
   </insert>
   <update id="commentUpdate" parameterType="com.smhrd.mapper.CommentsVO">
     update comments set contents=#{contents}
     where comment_no=#{comment_no}  
   </update>
   <delete id="commentDelete" parameterType="int">
     delete from comments where comment_no=#{comment_no}
   </delete>
   
   <!-- 6. 육아일기(열람, 작성, 수정) -->
   <select id="List" resultType="com.smhrd.mapper.BoardsVO"> <!-- 다시 작성 -->
    	select * from boards
   </select> 
   
   
</mapper>